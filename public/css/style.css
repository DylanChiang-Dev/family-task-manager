/**
 * 任務管理系統 - 主样式文件
 *
 * 这是现代化CSS重构后的主入口文件
 * 所有样式按功能模块化组织，采用CSS层级管理优先级
 *
 * 架构特性:
 * - 设计令牌系统 (CSS变量)
 * - 移动优先响应式设计
 * - 容器查询支持
 * - 逻辑属性 (国际化友好)
 * - 零 !important hack
 * - 性能优化 (contain, will-change)
 * - 无障碍性改进
 */

/* ========================================
   CSS层级管理 (Cascade Layers)
   定义清晰的优先级顺序，避免使用 !important
   ======================================== */

@layer tokens, base, layout, components, utilities, legacy;

/* ========================================
   设计令牌层 - 最低优先级
   ======================================== */

@layer tokens {
  @import url('design-tokens.css');
}

/* ========================================
   基础样式层 - CSS重置和基础元素
   ======================================== */

@layer base {
  @import url('base.css');
}

/* ========================================
   布局系统层 - 容器、网格、Flexbox
   ======================================== */

@layer layout {
  @import url('layout.css');
}

/* ========================================
   组件样式层 - 可复用组件
   ======================================== */

@layer components {
  @import url('components.css');
}

/* ========================================
   工具类层 - 实用工具类
   ======================================== */

@layer utilities {
  @import url('utilities.css');
}

/* ========================================
   遗留样式层 - 向后兼容
   用于保留一些旧样式，确保平滑过渡
   ======================================== */

@layer legacy {
  /* Tab样式 - 向后兼容 */
  .tab-active {
    border-color: var(--color-primary-500);
    color: var(--color-primary-500);
  }

  .tab-inactive {
    border-color: transparent;
  }

  /* 优先级徽章 - 向后兼容类名 */
  .priority-low {
    background-color: oklch(from var(--color-success) l c h / 0.15);
    color: var(--color-success);
  }

  .priority-medium {
    background-color: oklch(from var(--color-info) l c h / 0.15);
    color: var(--color-info);
  }

  .priority-high {
    background-color: oklch(from var(--color-error) l c h / 0.15);
    color: var(--color-error);
  }

  /* 状态徽章 - 向后兼容类名 */
  .status-pending {
    background-color: oklch(from var(--color-warning) l c h / 0.15);
    color: var(--color-warning);
  }

  .status-in_progress {
    background-color: oklch(from var(--color-info) l c h / 0.15);
    color: var(--color-info);
  }

  .status-completed {
    background-color: oklch(from var(--color-success) l c h / 0.15);
    color: var(--color-success);
  }

  .status-cancelled {
    background-color: oklch(from var(--color-neutral-500) l c h / 0.15);
    color: var(--color-neutral-600);
  }
}

/* ========================================
   性能优化提示
   ======================================== */

/*
  关键渲染路径优化建议:
  1. 将常用的CSS变量内联到HTML <head>中
  2. 延迟加载非关键CSS (utilities.css)
  3. 压缩和合并CSS文件用于生产环境
  4. 使用 preload 预加载字体文件
*/

/*
  TODO生产环境优化:
  - 使用 PostCSS 处理 @import
  - 启用 CSS压缩 (cssnano)
  - 生成 Critical CSS
  - 添加 autoprefixer 支持旧浏览器
*/
